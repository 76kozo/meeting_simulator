# 🤝 多機関連携会議シミュレーター

障害者の就労支援における多機関連携会議のAI生成シミュレーションを行うWebアプリケーションです。段階的進行とタイピングアニメーションにより、まるで実際の会議を見ているような臨場感ある体験を提供します。

## 🌐 本番環境

**URL**: https://meeting-simulator.vercel.app  
**認証**: Basic認証（admin/パスワード）  
**最新デプロイ**: 2025年8月4日 00:27 JST  
**ステータス**: ✅ Ready（稼働中）

## ✨ 主要機能

### 🎯 段階的会議進行
6ステップの段階的シミュレーション
- **ステップ1**: 開会・参加者紹介
- **ステップ2**: 観察結果報告
- **ステップ3**: 希望・意向確認
- **ステップ4**: 各機関情報共有
- **ステップ5**: 意見交換
- **ステップ6**: 支援方針確認

### ⌨️ リアルタイムタイピング体験
- チャット風のアニメーション表示
- 1文字ずつのタイピング表示（20-200文字/秒で調整可能）
- 発言者別の「入力中」インジケーター
- スキップ機能で即座に表示可能

### 🎪 多彩なカスタマイズ機能
- **発言文字数調整**: 5段階（短め30-50文字 〜 長め180-250文字）
- **会議スタイル設定**: 合意形成重視・選択肢探索重視・本人エンパワメント重視
- **進行パターン**: 構造化進行・柔軟な進行
- **専門性レベル**: バランス重視・専門的見解重視・本人中心重視
- **事前アセスメント情報**: 6種類の組み合わせ可能
- **ロールカスタマイズ**: 5つのテンプレート + 個別編集によるハイブリッド方式

### 🤖 AI要約・提案機能
会議内容の自動要約と次のステップ提案

### 👥 役割別アイコン表示
参加者の役割に応じた絵文字アイコン自動表示（15種類以上対応）

---

## 🛠️ 技術スタック

- **フロントエンド**: バニラ HTML/CSS/JavaScript
- **バックエンド**: Node.js + Express.js
- **AI**: Google Gemini 2.0 Flash API
- **デプロイ**: Vercel
- **認証**: Basic認証
- **セキュリティ**: レート制限、リファラーチェック

---

## 📋 設定マニュアル

### 🔧 設定項目一覧

#### 1. ケース選択
| 選択肢 | 説明 | 使用場面 |
|--------|------|----------|
| **カスタムケース** | 独自の情報を入力して会議を実施 | 特定のケースで練習したい時 |
| **固定ケース** | 予め設定されたサンプルケース | すぐに体験したい時 |

##### 📝 カスタムケースの入力仕様

**カスタムケース**を選択した場合、以下の情報入力が必要です：

**✅ 必須入力項目（3項目）**
1. **対象者の基本情報** ⭐
   - 年齢、障害種別、現在の状況など
   - 例：「田中太郎さん、18歳、知的障害、特別支援学校卒業予定」

2. **アセスメント結果概要** ⭐
   - 就労選択支援で実施したアセスメントの結果
   - 例：「作業能力：中程度、コミュニケーション：良好、集中力：課題あり」

3. **多機関連携会議の参加者** ⭐
   - 参加者名と役割を改行区切りで入力
   - 例：「田中（就労選択支援員・進行役）\n佐藤（保護者）\n本人」

**🔧 任意入力項目（1項目）**
4. **就労選択支援事業での観察ポイント** 
   - 実際の作業場面や日常での観察事項
   - 空欄でも問題なくシミュレーション実行可能

**💡 便利機能**
- **「テストデータを読み込む」ボタン**: サンプルデータを読み込み後、編集可能
- **フォームバリデーション**: 必須項目が未入力の場合はエラー表示

#### 2. 事前アセスメント情報
会議で活用できる事前情報を選択（複数選択可能）

| 項目 | 効果 |
|------|------|
| **作業観察結果** | 実際の作業場面での行動について具体的な発言が増える |
| **適性検査結果** | 客観的データに基づいた評価が含まれる |
| **面談結果** | 本人の意向に関する詳細な情報が反映される |
| **学校からの情報** | 教育的観点からの発言が充実 |
| **家族面談結果** | 家庭環境についての議論が深まる |
| **医療機関からの情報** | 医学的観点からの専門的発言が増加 |

#### 3. 会議のゴールパス
| 選択肢 | 会議の進行スタイル | 学習効果 |
|--------|-------------------|----------|
| **合意形成重視** | 参加者間の意見調整に重点 | チームワーク・合意形成スキル |
| **選択肢探索重視** | 多様な支援選択肢を幅広く検討 | 柔軟な発想力・比較検討能力 |
| **本人エンパワメント重視** | 本人の発言機会を最大化 | 当事者中心支援・エンパワメント技術 |

#### 4. 会議の進行パターン
| 選択肢 | 特徴 | 適用場面 |
|--------|------|----------|
| **構造化進行** | 明確な議題順序・効率的な流れ | 初心者学習・会議進行技術の習得 |
| **柔軟な進行** | 自然な流れ・臨機応変な展開 | 上級者実践・複雑ケースの検討 |

#### 5. 専門性の強調
| 選択肢 | 発言の特徴 | 学習効果 |
|--------|------------|----------|
| **バランス重視** | 各専門職の視点が均等に反映 | 多職種連携の理解 |
| **専門的見解重視** | 高度な専門用語・理論的背景 | 専門性の深化 |
| **本人中心重視** | 分かりやすい説明・共感的コミュニケーション | 当事者視点・インクルーシブ運営 |

#### 6. 発言の文字数
| レベル | 文字数 | 特徴 | 適用場面 |
|--------|--------|------|----------|
| **短め** | 30-50文字 | 簡潔で要点のみ | 概要把握・時間短縮 |
| **やや短め** | 50-80文字 | 要点を絞った発言 | 基本的な流れの学習 |
| **標準** | 80-120文字 | 適度な詳しさ | 一般的な会議体験 |
| **やや長め** | 120-180文字 | 詳細な説明含む | 深い理解を求める場合 |
| **長め** | 180-250文字 | 非常に詳細・具体例含む | 専門性を深めたい場合 |

#### 7. ロールカスタマイズ（🎭ハイブリッド方式）
**概要**: 参加者の役割と期待される発言内容をカスタマイズ

##### 🎯 5つのロールテンプレート
| テンプレート | 特徴 | 追加・変更される役割 |
|-------------|------|-------------------|
| **標準設定** | 現在のデフォルト8役割 | 就労選択支援員、教員、相談支援専門員など |
| **医療連携強化型** | 医療的ケアに特化 | 医療ソーシャルワーカー、看護師 |
| **家族参加重視型** | 家族の視点を強化 | 詳細な保護者・兄弟姉妹の設定 |
| **本人主導型** | 本人の自己決定を最重視 | 本人中心の支援者役割に変更 |
| **企業連携型** | 実際の雇用に特化 | 企業人事担当者、ジョブコーチ |

##### 💻 使用方法
1. **参加者入力完了後**: 「🎭 ロール設定をカスタマイズ」ボタンをクリック
2. **テンプレート選択**: 用途に応じたテンプレートを選択・適用
3. **個別編集**: 各ロールの説明文を自由に編集可能
4. **設定保存**: カスタム設定を保存してシミュレーションに反映

##### 🎓 活用シーン
- **地域特性**: 地域の支援体制に合わせた役割設定
- **研修カスタマイズ**: 特定の支援方針に特化した練習
- **専門性向上**: 特定職種の視点を強化した学習
- **実践準備**: 実際の会議メンバーに近い設定

---

## 🎓 学習目的別おすすめ設定

### 🔰 初心者向け（会議の基本を学ぶ）
```
• ケース選択: 固定ケース
• 事前アセスメント: 作業観察結果 + 面談結果
• ゴールパス: 合意形成重視
• 進行パターン: 構造化進行
• 専門性: バランス重視
• 発言文字数: 標準
• ロールカスタマイズ: 標準設定
```

### 🎯 中級者向け（実践スキルを磨く）
```
• ケース選択: カスタムケース
• 事前アセスメント: 4-5項目選択
• ゴールパス: 選択肢探索重視
• 進行パターン: 柔軟な進行
• 専門性: 専門的見解重視
• 発言文字数: やや長め
• ロールカスタマイズ: 医療連携強化型 or 企業連携型
```

### 🚀 上級者向け（高度な実践を体験）
```
• ケース選択: カスタムケース（複雑なケース）
• 事前アセスメント: 全項目選択
• ゴールパス: 本人エンパワメント重視
• 進行パターン: 柔軟な進行
• 専門性: 本人中心重視 or 専門的見解重視
• 発言文字数: 長め
• ロールカスタマイズ: 本人主導型 + 個別編集
```

---

## 🚀 使用方法

### 1. カスタムケースでのシミュレーション流れ
1. **ケース選択**: 「カスタムケース」を選択
2. **設定調整**: 学習目標に応じて各種設定を調整
3. **必須項目入力**: 
   - 対象者の基本情報 ⭐
   - アセスメント結果概要 ⭐
   - 多機関連携会議の参加者 ⭐
4. **任意項目入力**: 就労選択支援事業での観察ポイント
5. **「シミュレーション開始」**: 段階的進行UIが表示
6. **「会議を開始」**: ステップ1から順次進行
7. **タイピング観賞**: リアルタイムで発言が表示
8. **「次のステップへ」**: 各ステップ完了後に次段階へ
9. **AI要約・提案**: 会議終了後の自動分析

### 2. 固定ケース利用
1. **ケース選択**: 「固定ケース（佐藤太郎）」を選択
2. **「佐藤太郎ケースを読み込む」**: 予設定データが自動入力
3. **設定調整**: 必要に応じて設定を微調整
4. **上記5以降と同様**: 段階的進行で実行

### 3. カスタムケースでの便利な使い方
**パターンA: 完全オリジナルケース**
1. カスタムケースを選択
2. 全ての項目を手動入力
3. シミュレーション実行

**パターンB: サンプルベースのカスタマイズ**
1. カスタムケースを選択
2. 「テストデータを読み込む」でサンプルデータを取得
3. 必要な部分を編集・カスタマイズ
4. シミュレーション実行

### 4. タイピング機能の操作
- **速度調整**: スライダーで20-200文字/秒の調整
- **スキップ機能**: 「スキップ」ボタンで即座に全文表示
- **自動進行**: 各発言間に自然な間隔を自動挿入

---

## 🔒 セキュリティ

- **Basic認証**: 全ルートの認証保護
- **APIキー保護**: サーバーサイドでの秘匿管理
- **レート制限**: 悪用防止（15分間50リクエスト）
- **リファラーチェック**: 直接API アクセス防止

---

## 💻 ローカル開発

### 前提条件
- Node.js (v14以上)
- Google Gemini API キー

### インストール・起動
```bash
# リポジトリをクローン
git clone https://github.com/76kozo/meeting_simulator.git
cd meeting_simulator

# 依存関係をインストール
npm install

# 環境変数を設定（.envファイルを作成）
GEMINI_API_KEY=your_api_key_here
ADMIN_PASSWORD=your_password_here
PORT=3000

# サーバー起動
npm start
```

ブラウザで `http://localhost:3000` にアクセス

---

## 📁 プロジェクト構造

```
meeting_simulator/
├── public/                 # フロントエンド
│   ├── index.html         # メインページ
│   ├── script.js          # JavaScript処理
│   ├── style.css          # スタイル
│   └── testdata.json      # テストデータ
├── server.js              # Express サーバー
├── vercel.json           # Vercel設定
├── package.json          # 依存関係
└── README.md             # このファイル
```

---

## 🔄 API エンドポイント

- `POST /api/generate-step` - 段階別シミュレーション生成
- `POST /api/generate-summary` - AI要約・提案生成
- `POST /api/generate-simulation` - 一括シミュレーション生成（レガシー）

---

## 🤝 コントリビューション

1. このリポジトリをフォーク
2. フィーチャーブランチを作成 (`git checkout -b feature/AmazingFeature`)
3. 変更をコミット (`git commit -m 'Add some AmazingFeature'`)
4. ブランチにプッシュ (`git push origin feature/AmazingFeature`)
5. プルリクエストを作成

---

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

## 📞 サポート

- **Issues**: [GitHub Issues](https://github.com/76kozo/meeting_simulator/issues)
- **質問・要望**: 上記Issuesにてお気軽にお問い合わせください

---

## 🙏 謝辞

このプロジェクトは障害者就労支援の質向上を目指し、現場の支援者・当事者・ご家族の皆様の声を参考に開発されました。

---

*多機関連携会議シミュレーターで、より効果的な支援会議の実現を目指しましょう！*